/* =========================================================
   Brøyterute – styles.css
   - Lys/mørk/auto tema via prefers-color-scheme
   - Appbar + safe-area
   - Drawer (hamburgermeny)
   - Kort, knapper, inputs
   - Status-/tabell-utseende
   - Vertikale utstyrsvalg
   ========================================================= */

/* ---------- Tema-variabler ---------- */
:root {
  --bg: #0f172a;             /* bakgrunn */
  --text: #e5e7eb;           /* primærtekst */
  --muted: #9aa1ac;          /* sekundærtekst */
  --card: #111827;           /* kort */
  --surface: #0b1222;        /* input-bakgrunn */
  --border: #22304a;         /* kantlinjer */

  --primary: #2563eb;        /* blå */
  --primary-contrast: #ffffff;

  --ok: #22c55e;             /* grønn */
  --warn: #f59e0b;           /* gul/oransje */
  --err: #ef4444;            /* rød */
  --wake-on: #00c853;        /* våken = grønn */
  --wake-off: #d32f2f;       /* av = rød */

  --radius-lg: 14px;
  --radius-md: 12px;
  --radius-sm: 10px;

  --shadow-1: 0 6px 24px rgba(0,0,0,.22), 0 2px 8px rgba(0,0,0,.18);
  --shadow-soft: 0 2px 8px rgba(0,0,0,.18);
}

@media (prefers-color-scheme: light) {
  :root {
    --bg: #f6f7fb;
    --text: #0f172a;
    --muted: #5b6472;
    --card: #ffffff;
    --surface: #f3f4f6;
    --border: #d5d8dd;
    --shadow-1: 0 6px 24px rgba(16,24,40,.10), 0 2px 8px rgba(16,24,40,.06);
    --shadow-soft: 0 1px 4px rgba(16,24,40,.12);
  }
}

/* ---------- Reset / base ---------- */
* { box-sizing: border-box; }
html, body { height: 100%; }
html { -webkit-text-size-adjust: 100%; }
body {
  margin: 0;
  background: var(--bg);
  color: var(--text);
  font: 16px/1.4 system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji","Segoe UI Emoji";
  padding-top: calc(56px + env(safe-area-inset-top, 0px)); /* plass til appbar + notch */
}

a { color: inherit; text-decoration: none; }
button, input, select { font: inherit; }

/* ---------- Appbar ---------- */
.appbar {
  position: fixed; inset: 0 0 auto 0;
  height: calc(56px + env(safe-area-inset-top, 0px));
  padding-top: env(safe-area-inset-top, 0px);
  display: flex; align-items: center; gap: 12px;
  background: var(--card);
  border-bottom: 1px solid var(--border);
  z-index: 20;
}

.appbar .inner {
  display: flex; align-items: center; gap: 12px;
  width: 100%; max-width: 980px; margin: 0 auto; padding: 0 14px;
}

.icon-btn {
  display: inline-grid; place-items: center;
  width: 36px; height: 36px;
  border-radius: 10px;
  background: transparent;
  border: 1px solid transparent;
  color: var(--text);
}
.icon-btn:hover { background: rgba(127,127,127,.08); }

.appbar-title { font-weight: 700; }

/* Sync + wake dots */
.badges { display:flex; align-items:center; gap: 10px; margin-left:auto; }
.dot {
  display:inline-block; width:10px; height:10px; border-radius:50%;
  vertical-align: middle; margin-right: 6px;
  box-shadow: 0 0 0 2px rgba(0,0,0,.08) inset;
}
.sync-ok    { color: var(--ok); }
.sync-local { color: var(--warn); }
.sync-err   { color: var(--err); }
.dot.sync    { background: currentColor; }

.wake { display:inline-flex; align-items:center; gap:6px; }
.wake .dot { width:10px; height:10px; }
.wake-on  { background: var(--wake-on); }
.wake-off { background: var(--wake-off); }

/* ---------- Drawer (hamburgermeny) ---------- */
#scrim {
  position: fixed; inset: 0; background: rgba(0,0,0,.35);
  opacity:0; pointer-events:none; transition: opacity .18s ease;
  z-index: 24;
}
#scrim.show { opacity:1; pointer-events:auto; }

#drawer {
  position: fixed; inset: 0 auto 0 0;
  width: 310px; max-width: 88vw;
  background: var(--card);
  border-right: 1px solid var(--border);
  transform: translateX(-100%);
  transition: transform .22s ease;
  z-index: 25; display: flex; flex-direction: column;
  padding-top: env(safe-area-inset-top, 0px);
}
#drawer.open { transform: translateX(0); }

.drawer-head { display:flex; align-items:center; justify-content: space-between; padding: 14px; }
.drawer-links { padding: 4px 10px 10px; display:flex; flex-direction:column; gap:6px; }
.drawer-link {
  display:flex; align-items:center; gap:10px;
  padding: 10px 12px; border-radius: 10px; color: var(--text);
}
.drawer-link:hover { background: rgba(127,127,127,.08); }

/* ---------- Sider ---------- */
main { width:100%; max-width:980px; margin:0 auto; padding: 16px; }
.page-header h1 { margin: 12px 0 8px; font-size: 26px; }
.page { display: none; }
.page.active { display: block; }

/* ---------- Kort ---------- */
.card {
  background: var(--card);
  border: 1px solid var(--border);
  border-radius: var(--radius-lg);
  padding: 16px;
  box-shadow: var(--shadow-soft);
}

/* ---------- Felter / inputs ---------- */
.field { margin: 14px 0; }
.field > label { display:block; margin-bottom: 6px; font-weight: 600; }

.input, .select, textarea {
  width: 100%;
  padding: .75rem .9rem;
  border: 1px solid var(--border);
  border-radius: var(--radius-md);
  background: var(--surface);
  color: var(--text);
  outline: none;
}
.input:focus, .select:focus, textarea:focus {
  border-color: color-mix(in srgb, var(--primary) 60%, var(--border) 40%);
  box-shadow: 0 0 0 3px color-mix(in srgb, var(--primary) 20%, transparent);
}

/* Utstyrsvalg – vertikalt */
.equip-list {
  display: flex;
  flex-direction: column;   /* <- vertikal liste */
  gap: .6rem;
}
.chk { display: inline-flex; align-items:center; gap:.55rem; }

/* ---------- Knapper ---------- */
.btn {
  appearance: none;
  border: 1px solid var(--border);
  background: var(--surface);
  color: var(--text);
  padding: .8rem 1rem;
  border-radius: var(--radius-md);
  cursor: pointer;
}
.btn:disabled { opacity: .6; cursor: not-allowed; }

.btn-primary {
  border-color: color-mix(in srgb, var(--primary) 60%, var(--border) 40%);
  background: var(--primary);
  color: var(--primary-contrast);
  box-shadow: 0 4px 14px color-mix(in srgb, var(--primary) 25%, transparent);
}
.btn-primary:hover { filter: brightness(.98); }

.btn-ghost { background: transparent; }
.btn-ghost:hover { background: rgba(127,127,127,.08); }

.actions { margin-top: 8px; display:flex; gap:10px; flex-wrap: wrap; }

/* ---------- Arbeid / progresjon ---------- */
.progress {
  position: relative; height: 10px; border-radius: 999px;
  background: rgba(127,127,127,.18); overflow:hidden;
  border: 1px solid var(--border);
}
.progress .me { height:100%; background: color-mix(in srgb, var(--ok) 80%, transparent); }
.progress .other { height:100%; background: color-mix(in srgb, var(--primary) 60%, transparent); }

/* ---------- Status-tabel ---------- */
.table-wrap { overflow:auto; border:1px solid var(--border); border-radius: var(--radius-lg); }
table { width:100%; border-collapse: collapse; }
th, td {
  padding: 10px 12px; border-bottom: 1px solid var(--border);
  text-align: left; vertical-align: top;
}
thead th {
  position: sticky; top: 0;
  background: var(--card);
  z-index: 1;
}
tbody tr:hover { background: rgba(127,127,127,.06); }

/* Små statustagger */
.tag { display:inline-block; padding:.25rem .5rem; border-radius: 999px; font-size: .85rem; }
.tag-ok { background: color-mix(in srgb, var(--ok) 18%, transparent); color: var(--ok); }
.tag-warn { background: color-mix(in srgb, var(--warn) 18%, transparent); color: var(--warn); }
.tag-err { background: color-mix(in srgb, var(--err) 18%, transparent); color: var(--err); }

/* ---------- PWA install-hint (om du har det) ---------- */
.install-hint {
  display:flex; align-items:center; gap:8px;
  padding:.8rem; border-radius: var(--radius-md);
  background: color-mix(in srgb, var(--primary) 10%, var(--card) 90%);
  border: 1px dashed color-mix(in srgb, var(--primary) 35%, var(--border) 65%);
}

/* ---------- Utilities ---------- */
.row { display:flex; align-items:center; gap:10px; }
.col { display:flex; flex-direction:column; gap:10px; }
.hide { display:none !important; }

/* ---------- Småskjermer tweaks ---------- */
@media (max-width: 640px) {
  .appbar .inner { padding: 0 10px; }
  .page-header h1 { font-size: 24px; }
  .drawer-link { padding: 10px; }
}

/* ---------- Print (CSV-rapport forhåndsvisning etc.) ---------- */
@media print {
  body { background: #fff; color: #000; padding-top: 0; }
  .appbar, #drawer, #scrim { display:none !important; }
  .card { box-shadow: none; }
}