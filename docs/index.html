<!DOCTYPE html>
<html lang="no">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="mobile-web-app-capable" content="yes">
  <title>Brøyterute</title>
  <link rel="stylesheet" href="css/styles.css" />
  <script defer src="js/theme.js"></script>
</head>

<body>
  <header class="topbar">
    <button id="menuBtn" class="icon">☰</button>
    <h1>Brøyterute</h1>
    <div id="syncIndicator">
      <span id="syncDot" class="dot"></span>
      <span id="syncText">Synk: ukjent</span>
    </div>
  </header>

  <!-- Side-meny -->
  <aside id="drawer" class="drawer">
    <nav>
      <h3>Navigasjon</h3>
      <ul>
        <li><a href="#home">🏠</a></li>
        <li><a href="#work">🧭</a></li>
        <li><a href="#service">🛠️</a></li>
        <li><a href="#status">📊</a></li>
        <li><a href="#admin">⚙️</a></li>
      </ul>

      <h3>Snarveier</h3>
      <div class="shortcuts">
        <button>🏗️ Hent grus</button>
        <button>🛢️ Diesel</button>
        <button>🏡 Base</button>
      </div>

      <h3>Skjerm</h3>
      <div id="wakelockBox" class="wakelock-box">
        <span id="wakelockDot" class="dot"></span>
        <span id="wakelockLabel">Hold skjerm våken</span>
        <span id="wakelockStatus">Status: av</span>
      </div>

      <h3>Tema</h3>
      <div id="themeToggle" class="theme-toggle">
        <button id="themeBtn">🌙 Mørk modus</button>
      </div>
    </nav>
  </aside>

  <div id="scrim"></div>

  <!-- Innhold -->
  <main id="content">
    <section id="home" class="page active">
      <h2>Hjem</h2>
      <label>Fører:</label>
      <input id="driver" type="text" placeholder="Navn" />

      <fieldset>
        <legend>Utstyr:</legend>
        <label><input type="checkbox" id="eqSkjaer"> Skjær</label>
        <label><input type="checkbox" id="eqFres"> Fres</label>
        <label><input type="checkbox" id="eqGrus"> Sand/Grus</label>
      </fieldset>

      <label>Rekkefølge:</label>
      <select id="dirSelect">
        <option>Normal</option>
        <option>Mot normalt</option>
      </select>

      <label><input type="checkbox" id="autoNav"> Auto-naviger</label>
      <button id="startRound">Start runde</button>
    </section>

    <section id="work" class="page" hidden>
      <h2>Under arbeid</h2>
      <div class="progress">
        <div id="b_prog_me" class="bar mine"></div>
        <div id="b_prog_other" class="bar andre"></div>
      </div>
      <div class="progress-text">
        <span id="b_prog_me_count">0/0 mine</span> •
        <span id="b_prog_other_count">0/0 andre</span> •
        <span id="b_prog_summary">0 av 0 adresser fullført</span>
      </div>

      <div class="card">
        <div>Nå:</div>
        <h3 id="b_now">—</h3>
        <div>Neste:</div>
        <div id="b_next">—</div>
        <div>Oppgave: <span id="b_task">—</span> • Status: <span id="b_status">Venter</span></div>

        <div class="actions">
          <button id="act_start">▶️ Start</button>
          <button id="act_done">✅ Ferdig</button>
          <button id="act_skip">⏭️ Hopp over</button>
          <button id="act_next">➡️ Neste</button>
          <button id="act_nav">🧭 Naviger</button>
          <button id="act_block">⛔ Ikke mulig</button>
        </div>
      </div>
    </section>

    <section id="status" class="page" hidden>
      <h2 id="status_header">Status</h2>
      <div id="status_table"></div>
    </section>

    <section id="admin" class="page" hidden>
      <h2>Admin</h2>
      <div class="card">
        <div>Aktiv sesong: <span id="seasonName">2025-26</span></div>
        <div class="btnrow">
          <button id="copySeason">Kopier pinner fra forrige sesong</button>
          <button id="newSeason">Start ny sesong</button>
        </div>
      </div>

      <input id="searchAddr" type="text" placeholder="Filtrer adresser…" />

      <table class="adminTable">
        <thead>
          <tr><th>Adresse</th><th>Snø</th><th>Grus</th><th>Brøytepinner 2025-26</th></tr>
        </thead>
        <tbody id="adminTableBody"></tbody>
      </table>

      <div class="btnrow">
        <button id="addAddr">Legg til adresse</button>
        <button id="saveAddr">Lagre</button>
      </div>
    </section>
  </main>
</body>
</html>